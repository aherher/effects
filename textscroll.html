<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="css/base.css">
  <link rel="stylesheet" href="css/textScroll.css">
  <title>Text Scroll</title>
</head>

<body>
  <h2>Scroll â†“</h2>
  <div class="wrap">
    <div class="cover cover1">
      <p class="first-pararllel"></p>
    </div>

    <div class="cover cover2">
      <p class="second-pararllel"></p>
    </div>

    <div class="cover cover3">
      <p class="third-parallel"></p>
    </div>
    <div class="cover cover4">
      <p class="forth-parallel"></p>
    </div>
  </div>
  <script>
    const pTag1 = document.querySelector('.first-pararllel');
    const pTag2 = document.querySelector('.second-pararllel');
    const pTag3 = document.querySelector('.third-parallel');
    const pTag4 = document.querySelector('.forth-parallel');

    const textArr1 = 'Yummy Tasty Delicious Useful Coding Yummy Yummmmy Yummmmmmmmmy yum'.split(' ');
    const textArr2 = 'Chicken Hamburger Pizza Salad Sushi Ramen Gimbab JJajangmyeon'.split(' ');
    const textArr3 = "Let's Dive Into This Tutorial Take It Easy! Don't Worry".split(' ')
    const textArr4 = 'Pure Moral Conscientious Meritorious Worthy Exemplary Upright '.split(' ')

    function initTexts(element, textArray) {
      textArray.push(...textArray);
      for (let i = 0; i < textArray.length; i++) {
        element.innerText += `${textArray[i]}\u00A0\u00A0\u00A0\u00A0`;
      }
    };

    initTexts(pTag1, textArr1);
    initTexts(pTag2, textArr2);
    initTexts(pTag3, textArr3);
    initTexts(pTag4, textArr4);

    let count1 = 0;
    let count2 = 0;
    let count3 = 0;
    let count4 = 0;

    function marqueeText(count, element, direction) {
      if (count > element.scrollWidth / 2) {
        element.style.transform = `translate3d(0, 0, 0)`
        count = 0
      }
      element.style.transform = `translate3d(${direction * count}px, 0, 0)`

      return count
    }

    function animate() {
      count1++;
      count2++;
      count3++;
      count4++;

      count1 = marqueeText(count1, pTag1, -1);
      count2 = marqueeText(count2, pTag2, 1);
      count3 = marqueeText(count2, pTag3, -1);
      count4 = marqueeText(count2, pTag4, 1);

      window.requestAnimationFrame(animate);
    }

    function scrollHandler() {
      count1 += 15
      count2 += 15
    }

    window.addEventListener('scroll', scrollHandler);

    animate();
  </script>
</body>

</html>