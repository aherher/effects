<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="css/base.css">
  <link rel="stylesheet" href="css/hovercard.css">
  <title>Hover card</title>
</head>

<body>
  <h2>Mouse over</h2>
  <ul class="frameLists">
    <li>
      <div class="card">
        <div class="light">
          <!-- <img src="images/bird.jpg" alt=""> -->
        </div>
      </div>
    </li>
    <li>
      <div class="card">
        <div class="light">
          <!-- <img src="images/bird.jpg" alt=""> -->
        </div>
      </div>
    </li>
    <li>
      <div class="card">
        <div class="light">
          <!-- <img src="images/bird.jpg" alt=""> -->
        </div>
      </div>
    </li>
    <li>
      <div class="card">
        <div class="light">
          <!-- <img src="images/berry.jpg" alt=""> -->
        </div>
      </div>
    </li>
    <li>
      <div class="card">
        <div class="light">
          <!-- <img src="images/berry.jpg" alt=""> -->
        </div>
      </div>
    </li>
    <li>
      <div class="card">
        <div class="light">
          <!-- <img src="images/berry.jpg" alt=""> -->
        </div>
      </div>
    </li>
  </ul>

  <!-- <div id="frame">
    <div id="card">
      <div id="light"></div>
    </div>
  </div> -->

  <script>
    const frame = document.querySelectorAll(".frameLists > li");


    frame.forEach(frames => {
      let {
        x,
        y,
        width,
        height
      } = frames.getBoundingClientRect();
      let card = frames.querySelector(".card");
      let light = frames.querySelector(".light");


      frames.addEventListener("mousemove",  function(e){
        let left = e.clientX - x;
        let top = e.clientY - y;
        let centerX = left - width / 2;
        let centerY = top - height / 2;
        let d = Math.sqrt(centerX ** 2 + centerY ** 2);

        card.style.boxShadow = `${-centerX / 5}px ${-centerY / 10}px 10px rgba(0, 0, 0, 0.2)`;
        card.style.transform = `rotate3d(${-centerY / 100}, ${centerX / 100}, 0, ${d / 8}deg)`;

        light.style.backgroundImage = `radial-gradient(circle at ${left}px ${top}px, #00000040, #ffffff00, #ffffff99)`
      });

      //  마우스 리브 이벤트
      frames.addEventListener('mouseleave', () => {
        card.style.boxShadow = '';
        card.style.transform = '';

         light.style.backgroundImage = '';

      })
    });








    // 리사이징
    window.addEventListener('resize', () => {
      rect = frame.getBoundingClientRect();
      x = rect.x;
      y = rect.y;
      width = rect.width;
      height = rect.height;
    });
  </script>
</body>

</html>